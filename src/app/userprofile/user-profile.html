<div class="main-wrapper">
  <ngx-spinner type="ball-scale-multiple"></ngx-spinner>
  <div class="top-bar">
     <div class="title-section">
       <span>Incident and Safety Reporting System</span>
     </div>
     <div class="user-menu">
       <button class="user-menu-toggle" type="submit" (click)="toggleMenu()">
          <span id="dropdown-icon">
            <mat-icon style="color: white;">person</mat-icon>
            <span id="dropdown-username">{{userFullName}}</span>
            <mat-icon style="color: white;">arrow_drop_down</mat-icon>
          </span>
       </button>
       <div class="user-menu-dropdown"  [class.hide]="isMenuOpen">
          <a>Messages</a>
          <a>Account Settings</a>
          <button class="logout-btn" (click)="logout()">Logout</button>
       </div>
     </div>
  </div>
  <div class="main-content">
    <div class="top-content">
       <div class="top-content-child">
          <span>12</span>
          <span>Open</span>
       </div>
       <div class="top-content-child">
          <span>5</span>
          <span>In Progress</span>
       </div>
       <div class="top-content-child">
          <span>18</span>
          <span>Resolved</span>
       </div>
       <button class="top-content-btn" (click)="openModal()">New Incident</button>
    </div>
    <div class="middle-content">
       <div class="chart">
            <canvas baseChart
                     [data]="lineChartData"
                     [options]="lineChartOptions"
                     [type]="'line'">
            </canvas>
       </div>
       <div class="chart-info">

       </div>
    </div>
    <div class="last-content">
      <table border="1" cellpadding="8">
        <thead>
         <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Location</th>
            <th>Reported Date</th>
            <th>Status</th>
         </tr>
        </thead>
       <tbody>
         <tr *ngFor="let report of incidentsArr">
            <td>{{ report.id }}</td>
            <td>{{ report.type }}</td>
            <td>{{ report.location }}</td>
            <td>{{ report.reportedDate }}</td>
            <td>{{ report.status }}</td>
         </tr>
      </tbody>
      </table>
    </div>
  </div>
</div>
<app-new-incident-report-modal [show]="showModal" (close)="closeModal()" (formSubmit)="reportSubmit($event)"></app-new-incident-report-modal>